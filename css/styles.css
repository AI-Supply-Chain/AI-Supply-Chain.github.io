/* ==========================================================================
   AI Supply Chain Graph â€” Unified Theme (Landing + App)
   ========================================================================== */

/* ---- Design tokens ------------------------------------------------------ */
:root{
  --brand-700:#0A4F96; --brand-600:#0B61B3; --brand-500:#0C6FCE; --brand-400:#2F86E6;
  --brand-300:#7BB3F2; --brand-200:#DFECFF;

  --bg:#F6F9FC;
  --surface:#FFFFFF;
  --surface-alt:#F8FBFF;

  --stroke:#E6EBF3;
  --stroke-strong:#D6DDE9;

  --ink:#0F172A;
  --ink-muted:#5B6776;

  --round:16px;
  --shadow:0 10px 30px rgba(16,75,132,.10);
  --container-max:1100px;

  --gap:20px;
  --pane-h: clamp(360px, 56vh, 820px);
}

/* ---- Reset / base ------------------------------------------------------- */
*{ box-sizing:border-box; }
html, body{ margin:0; padding:0; }
body{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--ink);
  background: linear-gradient(#F7FBFF,#F3F7FC 28%, #EEF4FB);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
figure { margin: 0; }
.container{ max-width: var(--container-max); margin: 18px auto; padding: 0 18px; }

/* ---- Top nav ------------------------------------------------------------ */
.site-nav{
  max-width: var(--container-max);
  margin: 0 auto; padding: 14px 18px;
  display: flex; align-items:center; justify-content: space-between;
}
.brand{
  display:flex; gap:10px; align-items:center;
  font-weight:900; letter-spacing:.2px; color:#0b2c60; font-size:18px;
}
.brand-badge{
  width:36px; height:36px; border-radius:10px;
  background:linear-gradient(180deg,var(--brand-500),var(--brand-700));
  display:grid; place-items:center; color:#fff; font-weight:800;
  box-shadow:0 6px 16px rgba(12,111,206,.25);
}
.nav-actions .btn-ghost.small{
  text-decoration:none; color:var(--brand-600); font-weight:700;
  border:1px solid var(--stroke); padding:8px 12px; border-radius:10px; background:#fff;
}
.nav-actions .btn-ghost.small:hover{ background:#f7fbff; }

/* ---- Cards / Panels ----------------------------------------------------- */
.card, .panel{
  background: var(--surface);
  border: 1px solid var(--stroke);
  border-radius: var(--round);
  box-shadow: var(--shadow);
  overflow: hidden;
}
.card__header, .panel__header{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px;
  background: linear-gradient(#fff, #f7fbff);
  border-bottom: 1px solid var(--stroke);
  font-weight:900; color:#0b274d;
}
.panel__title{ margin:0; font-size:16px; font-weight:800; letter-spacing:.2px; color:#0b274d; }
.panel__tools{ display:inline-flex; gap:8px; }
.panel__caption{
  padding: 10px 14px 14px;
  border-top: 1px solid var(--stroke);
  color: var(--ink-muted);
  font-size: 12.5px;
  line-height: 1.45;
}
.card .pad{ padding:16px; }

/* ---- Landing: Hero ------------------------------------------------------ */
.hero .hero-card{ overflow:hidden; }
.hero-head{
  padding:24px 22px 10px;
  background:linear-gradient(#fff,#f7fbff);
  border-bottom:1px solid var(--stroke);
}
.hero-title{ margin:0 0 8px; font-size:28px; font-weight:900; letter-spacing:.2px; color:#0b274d; }
.hero-sub{ margin:0; color:var(--ink-muted); line-height:1.5; }
.hero-media{ position:relative; padding:18px 18px 6px; }
.hero-media img{
  display:block; width:100%; height:auto; border-radius:12px; border:1px solid var(--stroke);
}
.cta-row{
  display:flex; gap:12px; flex-wrap:wrap; align-items:center; justify-content:flex-start;
  padding:14px 18px 22px;
}
.meta{ font-size:12.5px; color:var(--ink-muted); }

/* ---- Buttons ------------------------------------------------------------ */
.btn{
  appearance:none; border:none; cursor:pointer; text-decoration:none;
  padding:12px 18px; border-radius:12px; font-weight:800; letter-spacing:.2px;
  background:linear-gradient(180deg,var(--brand-500),var(--brand-600)); color:#fff;
  box-shadow:0 8px 20px rgba(11,97,179,.22);
}
.btn:hover{ filter:brightness(1.03); }
.btn.ghost, .btn-ghost{ background:#fff; color:var(--ink); border:1px solid var(--stroke); box-shadow:none; }
.btn-ghost:hover{ background:#f7fbff; }

/* ---- App header --------------------------------------------------------- */
.header{ text-align:center; padding: 8px 0 6px; }
.header h1{
  margin: 0 0 4px; font-weight: 800; font-size: 26px; letter-spacing:.2px; color:#0b2c60;
}

/* ---- Inputs & layout ---------------------------------------------------- */
.file-path-section{
  background: linear-gradient(#fff, var(--surface-alt));
  padding: 14px;
  border-radius: 12px;
  border: 1px solid var(--stroke);
  border-left: 4px solid var(--brand-500);
  margin: 18px 0;
}
.input-section, .output-section{ margin: 20px 0 10px; }
.grid{ display:grid; grid-template-columns: 1fr 1fr; gap: var(--gap); }
.span-2{ grid-column: 1 / -1; }

.input-group label{
  display:block; font-weight:700; margin: 0 0 6px; color:#0b274d;
}
input, select, textarea{
  width:100%; padding:10px; border:1px solid var(--stroke); border-radius:10px; background:#fff; color:var(--ink);
  transition:border-color .15s ease, box-shadow .15s ease;
}
input::placeholder{ color:#98a6b6; }
input:focus, select:focus, textarea:focus{
  outline:none; border-color:var(--brand-500); box-shadow:0 0 0 3px rgba(12,111,206,.16);
}

/* Typeahead row */
.select-row{
  display:grid;
  grid-template-columns: minmax(280px,1fr) auto auto auto; /* input | Select | Run | Clear */
  gap:10px; align-items:center;
}
.helper-note{ margin:8px 0 0; font-size:13px; color:var(--ink-muted); }
.hint{ color:#758297; font-size:12px; }

/* ---- Status bar --------------------------------------------------------- */
.status{
  display:none; margin:14px 0 6px; padding:10px 12px;
  border:1px solid #cfe4ff; border-left:4px solid var(--brand-500);
  border-radius:8px; background:#eff6ff; color:#0b3d73;
}
.status.success{ border-color:#cde9cf; background:#f0fbf2; color:#1b5e20; display:block; }
.status.error{ border-color:#ffd6d9; background:#fff5f5; color:#8b1a1a; display:block; }

/* ---- Visualization ------------------------------------------------------ */
#graphviz-container{
  height: var(--pane-h); position: relative; border: none; padding: 0; overflow: auto;
}
.viz-surface{
  height: var(--pane-h); position: relative; padding: 10px;
  border: 1px solid var(--stroke); border-radius: var(--round);
  background:
    radial-gradient(circle at 1px 1px, rgba(0,0,0,.032) 1px, transparent 1px) 0 0 / 16px 16px,
    #fff;
}
.viz-surface svg{ max-width: 100%; height: auto; }
.placeholder{ text-align:center; padding:52px; color:#667085; font-size:14px; }

/* ---- DOT output --------------------------------------------------------- */
.codewrap{ display:grid; }
.code-surface, .dot-textarea{
  height: var(--pane-h); resize: vertical; border-radius: 0 0 var(--round) var(--round);
  border: 1px solid var(--stroke); border-top: 1px solid var(--stroke);
  background:
    linear-gradient(#fff,#fff) padding-box,
    repeating-linear-gradient(to bottom, rgba(12,111,206,.08), rgba(12,111,206,.08) 28px, transparent 28px, transparent 56px) border-box;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Courier New", monospace;
  font-size: 12.5px; line-height: 1.4; color:#0b1220;
  padding: 12px 14px; tab-size: 2; white-space: pre; overflow: auto;
}

/* ---- Legend chips created by JS (nice look) ----------------------------- */
.legend-footer{
  backdrop-filter: blur(6px);
}
.legend-footer .legend-chip{
  border-radius:999px; padding:4px 10px; background:#fff; border:1px solid #d8dbe2; font-weight:700;
}

/* ---- Footer ------------------------------------------------------------- */
.footer, .site-footer{
  text-align:center; color:#6a7a90; font-size:13px; padding:18px 0 28px;
}

/* ---- Responsive --------------------------------------------------------- */
@media (max-width: 900px){
  .grid{ grid-template-columns: 1fr; }
}
@media (max-width: 800px){
  .select-row{ grid-template-columns: 1fr; }
  .select-row > .btn, .select-row > .btn-ghost, .select-row > .btn.ghost{ width:100%; }
}
